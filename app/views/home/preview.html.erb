<div id='preview-screen'>
  <div class='container'>
    <div class='row'>
      <div class='col-sm-10 col-sm-offset-1'>

        <%= render partial: "#{@class_name.pluralize}/preview", locals: eval("{ #{@class_name}: @object }"), cache: true %>

        <div class='well well-auth' ng-switch='new_user' ng-init='new_user=true'>
          <%= link_to "<i class='fa fa-close fa-2x'></i>".html_safe, @cancel_path, class: 'auth-cancel' %>
          <h2 class='section-title'>Thanks for contributing! Please sign {{new_user ? 'up' : 'in'}} to <%= @object.respond_to?(:published_at) && !@object.published_at? ? 'save' : 'share' %> your voice.</h2>

          <div ng-hide="new_user">
            <%= render partial: 'devise/sessions/form', locals: { switch_link: link_to("Sign Up.", '#', onclick: 'return false;', 'ng-click' => 'new_user=true') }, cache: true %>
          </div>

          <div ng-show="new_user">
            <%= render partial: 'devise/registrations/forms/new', locals: { switch_link: link_to("Sign In.", '#', onclick: 'return false;', 'ng-click' => 'new_user=false') }, cache: true %>
          </div>
        </div>

        <%= render partial: 'layouts/share_follow' %>

      </div>
    </div>
  </div>
</div>
